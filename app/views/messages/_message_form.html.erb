<%= form_with model: message, url: messages_path, method: :post, local: true, class: "message-form" do |form| %>
  <%= hidden_field_tag :user_id, recipient.id %>

  <div class="form-group">
    <div class="input-group">
      <%= form.text_area :content,
                         placeholder: "Type your message...",
                         class: "form-control",
                         rows: 2,
                         required: true,
                         maxlength: 2000 %>

      <%= form.submit "Send", class: "btn btn-primary" %>
    </div>
  </div>
  
  <% if message.errors.any? %>
    <div class="message-errors">
      <% message.errors.full_messages.each do |error| %>
        <p class="error-message"><%= error %></p>
      <% end %>
    </div>
  <% end %>
<% end %>

