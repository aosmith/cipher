<div class="container auth-container">
  <div class="welcome-hero auth-hero">
    <h2>ğŸ” Create Your Cipher Identity</h2>
    <p>Create your account with automatic key generation</p>
  </div>

  <div class="form-container auth-form-grid">
    <div class="form-section card">
      <div class="card-body">
        <%= form_with model: @user, class: "user-form" do |form| %>
        <% if @user.errors.any? %>
          <div class="error-messages">
            <h3><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h3>
            <ul>
              <% @user.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="form-group">
          <%= form.label :username, class: "form-label" %>
          <%= form.text_field :username, class: "form-control", 
                               placeholder: "Enter a unique username",
                               required: true,
                               pattern: "[a-zA-Z0-9_]{3,20}",
                               title: "3-20 characters, letters, numbers, and underscores only" %>
          <small class="form-help">This will be your unique identifier on the network</small>
        </div>

        <div class="form-group">
          <%= form.label :display_name, class: "form-label" %>
          <%= form.text_field :display_name, class: "form-control", 
                               placeholder: "Enter your display name (optional)" %>
          <small class="form-help">This is how others will see your name</small>
        </div>

        <div class="form-group">
          <%= label_tag :password, "Password", class: "form-label" %>
          <%= password_field_tag :password, "", class: "form-control", 
                                 placeholder: "Enter a strong password",
                                 required: true,
                                 minlength: 8 %>
          <small class="form-help">Minimum 8 characters</small>
        </div>

        <div class="form-group">
          <%= label_tag :confirm_password, "Confirm Password", class: "form-label" %>
          <%= password_field_tag :confirm_password, "", class: "form-control", 
                                 placeholder: "Confirm your password",
                                 required: true,
                                 minlength: 8 %>
        </div>

        <div class="crypto-info">
          <h3>ğŸ”‘ Automatic Key Generation</h3>
          <p>When you create your account:</p>
          <ul>
            <li><strong>Cryptographic keys</strong> are automatically generated for you</li>
            <li><strong>Public key</strong> becomes your network identity</li>
            <li><strong>Private key</strong> is derived from your credentials securely</li>
          </ul>
          <div class="warning">
            <strong>âš ï¸ Important:</strong> Remember your password! It's required to access your encrypted data.
          </div>
        </div>

        <div class="form-actions">
          <%= form.submit "ğŸš€ Create Account", class: "btn btn-primary btn-large" %>
        </div>
        <% end %>
      </div>
    </div>

    <div class="info-section card">
      <div class="card-body">
        <h3>What happens next?</h3>
        <ol class="info-timeline">
          <li>Your cryptographic key pair is generated automatically</li>
          <li>Your public key becomes your network identity</li>
          <li>You can immediately start connecting to other peers</li>
          <li>All your messages will be end-to-end encrypted</li>
        </ol>

        <div class="features-mini">
          <div class="feature-mini">
            <strong>ğŸ” Encrypted</strong>
            All communications are secured
          </div>
          <div class="feature-mini">
            <strong>ğŸŒ Decentralized</strong>
            Direct peer-to-peer connections
          </div>
          <div class="feature-mini">
            <strong>ğŸš€ Simple</strong>
            No complex setup required
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
